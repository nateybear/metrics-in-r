<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Given a model returned by a function such as lm() and one or more
expressions to evaluate, jointly test the null hypothesis that the expression
are all zero, using the approximate delta method to construct an chi-square
statistic. This is an asymptotic Wald test."><title>Jointly Test Non-Linear Functions of Model Parameters — testnl • metrics.in.r</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Jointly Test Non-Linear Functions of Model Parameters — testnl"><meta property="og:description" content="Given a model returned by a function such as lm() and one or more
expressions to evaluate, jointly test the null hypothesis that the expression
are all zero, using the approximate delta method to construct an chi-square
statistic. This is an asymptotic Wald test."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metrics.in.r</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/metrics-in-r.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nateybear/metrics-in-r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Jointly Test Non-Linear Functions of Model Parameters</h1>
      <small class="dont-index">Source: <a href="https://github.com/nateybear/metrics-in-r/blob/HEAD/R/testnl.R" class="external-link"><code>R/testnl.R</code></a></small>
      <div class="d-none name"><code>testnl.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a model returned by a function such as <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> and one or more
expressions to evaluate, jointly test the null hypothesis that the expression
are all zero, using the approximate delta method to construct an chi-square
statistic. This is an asymptotic Wald test.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">testnl</span><span class="op">(</span><span class="va">model</span>, <span class="va">...</span>, vcov. <span class="op">=</span> <span class="cn">NULL</span>, params <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>A linear model, fit by a call to <code>lm</code>, <code>feols</code>, or <code>lm_robust</code></p></dd>


<dt>...</dt>
<dd><p>One or more expressions involving parameters in <code>model</code></p></dd>


<dt>vcov.</dt>
<dd><p>Optional specify the covariance of the model. Can be a matrix,
function or lambda. Defaults to <code>stats::vcov(model)</code></p></dd>


<dt>params</dt>
<dd><p>Optional character vector. rename the model parameters to make
them easier to refer to in your expressions in <code>...</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are two ways to refer to model parameters in your expressions.</p><ul><li><p>The names of your model coefficients, such as <code>educ</code> and <code>abil</code>. Note that
"strange" expressions that do not evaluate to a symbol in R code must be
surrounded by backticks, e.g. <code>`(Intercept)`</code> or <code>`educ:abil`</code>.</p></li>
<li><p>Using the names supplied as the <code>params</code> argument to this function. The
order of the coefficients is the order returned by <code>coef(model)</code>.</p></li>
</ul><p>By default, the covariances of the model parameters are taken from the
<code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">stats::vcov()</a></code> function. This is a generic function that will produce
different results for different model types. That means that <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> models
will have a homoskedastic covariance matrix, whereas <code>feols</code> and <code>lm_robust</code>
models will have the type of robust covariance matrix that you specify when
creating the model. You can override this default behavior by using the
<code>vcov.</code> argument.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/" class="external-link">fixest</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">hp</span>, data <span class="op">=</span> <span class="va">mtcars</span>, vcov <span class="op">=</span> <span class="st">"HC1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">testnl</span><span class="op">(</span><span class="va">model</span>, <span class="va">wt</span><span class="op">^</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">hp</span> <span class="op">/</span> <span class="va">wt</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Joint Chi-Square Test of the hypotheses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • wt^2 = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • sqrt(hp / wt) = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                chisq(2) = 197.004154              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Pr(&gt;chisq) = 0                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># equivalently, supply your own parameter names</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidyverse/glue" class="external-link">glue</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">testnl</span><span class="op">(</span><span class="va">model</span>, <span class="va">b2</span><span class="op">^</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">b3</span> <span class="op">/</span> <span class="va">b2</span><span class="op">)</span>, params <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"b{1:3}"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Joint Chi-Square Test of the hypotheses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • b2^2 = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • sqrt(b3 / b2) = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                chisq(2) = 197.004154              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Pr(&gt;chisq) = 0                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Where b1=(Intercept), b2=wt, b3=hp</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nathan Gardner Hattersley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

