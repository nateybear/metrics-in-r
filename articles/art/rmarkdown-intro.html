<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="metrics.in.r">
<title>Digression: A Taste of RMarkdown ‚Ä¢ metrics.in.r</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Digression: A Taste of RMarkdown">
<meta property="og:description" content="metrics.in.r">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">metrics.in.r</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../articles/metrics-in-r.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../../articles/index.html">Articles</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nateybear/metrics-in-r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Digression: A Taste of RMarkdown</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nateybear/metrics-in-r/blob/HEAD/vignettes/art/rmarkdown-intro.Rmd" class="external-link"><code>vignettes/art/rmarkdown-intro.Rmd</code></a></small>
      <div class="d-none name"><code>rmarkdown-intro.Rmd</code></div>
    </div>

    
    
<p>I want to delay a more detailed discussion of RMarkdown for later in the year. However, you need to know the basics in order to do your homeworks in R. So this week, we will take a digression from the theme of how to do estimators in R to talk about how to <em>write</em> about the estimators that you do in R.</p>
<div class="section level2">
<h2 id="the-pattern-literate-programming">The Pattern: Literate Programming<a class="anchor" aria-label="anchor" href="#the-pattern-literate-programming"></a>
</h2>
<p>Literate Programming is concept that is almost forty years old‚Äînot much older than modern computing itself. It was pioneered by the famous computer scientist Donald Knuth. He has a quote about literate programming that sums it up perfectly:</p>
<blockquote>
<p>Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.</p>
</blockquote>
<p>In literate programming, our primary output is a report, presentation, or some other document that is intended for human consumption. However, we are able to scatter chunks of computer code throughout our document, which is then executed and the output interleaved in the document. That means there are ‚Äúprocessing‚Äù steps of turning literate programs into finished output. These are typically called <strong>tangling</strong>, which is extracting the computer code from your document and executing it; and <strong>weaving</strong>, which is inserting the results of that execution into the document and compiling to a finished output. The entire process of tangling and weaving is sometimes called <strong>knitting</strong>.</p>
</div>
<div class="section level2">
<h2 id="the-horror-its-latex">The Horror: It‚Äôs LaTeX üò±<a class="anchor" aria-label="anchor" href="#the-horror-its-latex"></a>
</h2>
<p>Due to the historical context that literate programming evolved in (and due to the fact that Donald Knuth invented LaTeX), most literate programs have used LaTeX and produced PDF documents as output. That‚Äôs still the case today, as there‚Äôs not really a better engine for generating PDFs for academic reports. For the uninitiated, LaTeX is a programming language for producing documents‚Äîthink ‚Äúif Microsoft Word were a programming language.‚Äù</p>
<p>LaTeX can be intimidating to newcomers, and there definitely is a learning curve. Fortunately, there are ways that we can ‚Äúabstract‚Äù away the difficulties of working with LaTeX and write our document using a much simpler <a href="https://www.markdownguide.org/" class="external-link">markdown</a> syntax. Our markdown is then converted into LaTeX and we make pretty PDFs.</p>
<p>The upshot is that you need to install LaTeX on your computer. RMarkdown creator Yihui Xie has done a lot of work to try and make this easy for R users. He has an R package called <code>tinytex</code> for downloading a minimal version of LaTeX. You can check that out <a href="https://yihui.org/tinytex/" class="external-link">here</a>. The downside is that it may not contain the LaTeX packages that you need. It is not too hard to install new LaTeX packages, just kind of annoying.</p>
<p>The other option is to install what is called a ‚ÄúLaTeX distribution,‚Äù which is LaTeX plus a bunch of other packages, applications, etc. These are large and can take up 6+ GB of memory on your computer. The upside is that there are more LaTeX packages than you will ever use in your life included, so you are spared the annoyance of installing missing LaTeX packages. You can read more on LaTeX distributions <a href="https://www.latex-project.org/get/" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="introducing-rmarkdown">Introducing RMarkdown<a class="anchor" aria-label="anchor" href="#introducing-rmarkdown"></a>
</h2>
<p>Now that we understand a little bit about the mechanics of literate programming, let‚Äôs introduce RMarkdown. You will need to install one additional R package, <code>knitr</code>. This package does all of the business of compiling our documents.</p>
<p>To create a new RMarkdown file, select the dropdown in the top left corner of RStudio:</p>
<p><img src="img/rmarkdown-intro-1.png"></p>
<p>Choose a name for your document, and make sure that the output type is PDF. You will have a document generated with some example commands to show you what you can do with RMarkdown. We will delete most of this and keep two things:</p>
<ol style="list-style-type: decimal">
<li>The header, also called the metadata. It starts and ends with three dashes, <code>---</code>. Here you can set different properties of your document, including controlling how the output is generated. We will come back to this in a second.</li>
<li>The setup code chunk, which is R code that ‚Äúsets up‚Äù your environment for the rest of the RMarkdown document. This is a good place to set default <code>knitr</code> options, or to load all of the libraries you‚Äôll be using.</li>
</ol>
<p><img src="img/rmarkdown-intro-2.png"></p>
<p>In order to create a PDF, you just need to click the ‚Äúknit‚Äù button on the toolbar. A PDF preview will open up in a separate window once your document knits.</p>
<p><img src="img/rmarkdown-intro-3.png"></p>
</div>
<div class="section level2">
<h2 id="what-can-i-do-with-rmarkdown">What can I do with RMarkdown?<a class="anchor" aria-label="anchor" href="#what-can-i-do-with-rmarkdown"></a>
</h2>
<div class="section level3">
<h3 id="markdown-syntax-and-math-equations">Markdown syntax and math equations<a class="anchor" aria-label="anchor" href="#markdown-syntax-and-math-equations"></a>
</h3>
<p>Markdown syntax itself is pretty easy to work with. Different special symbols tell markdown that text should be formatted in certain ways. You can create headers, create lists, <em>italicize</em> things, <strong>bold</strong> them, create links, insert images, and more. There are many cheatsheets that you can Google, here is <a href="https://www.markdownguide.org/cheat-sheet/" class="external-link">one</a> as an example. A quick flavor of markdown is below.</p>
<div class="card">
<div class="section level5 card-header">
<h5 id="this-markdown-code">This markdown code<a class="anchor" aria-label="anchor" href="#this-markdown-code"></a>
</h5>
</div>
<div class="card-body">
<p><img src="img/rmarkdown-intro-4.png"></p>
</div>
</div>
<p><br></p>
<div class="card">
<div class="section level5 card-header">
<h5 id="produces-this-pdf-output">Produces this PDF output<a class="anchor" aria-label="anchor" href="#produces-this-pdf-output"></a>
</h5>
</div>
<div class="card-body">
<p><img src="img/rmarkdown-intro-5.png"></p>
</div>
</div>
<p>The math equations that I wrote above are actually LaTeX equations. Since we are eventually turning this markdown file into LaTeX, we can also just include LaTeX directly such as in this case. A nice cheatsheet on math symbols in LaTeX can be found <a href="https://github.com/manuelemacchia/math-latex/raw/master/amsmath.pdf" class="external-link">here</a>.</p>
</div>
<div class="section level3">
<h3 id="r-code-chunks">R Code Chunks<a class="anchor" aria-label="anchor" href="#r-code-chunks"></a>
</h3>
<p>You can create a ‚Äúcode chunk‚Äù by inserting three backticks and then curly braces with the letter R in it, like so:</p>
<p><img src="img/rmarkdown-intro-6.png"></p>
<p>Three more backticks terminates the code chunk. (Hot tip: The letter ‚Äúr‚Äù is the language of the code chunk, you can also use ‚Äúpython‚Äù or ‚Äújulia‚Äù as the language if you want.)</p>
<p>What happens when you knit the document is the the R code is displayed in the document, and the results of executing the R code are displayed below. All of the code chunks are run linearly, so you can include variables that you have defined in previous code chunks. The output of the code chunk above is this:</p>
<p><img src="img/rmarkdown-intro-7.png"></p>
<p>You can include options to control how the code chunk is evaluated, like so:</p>
<p><img src="img/rmarkdown-intro-8.png"></p>
<p>Some good ones to know are</p>
<ul>
<li>
<code>eval = FALSE</code> if you want to display the code but not actually run it</li>
<li>
<code>echo = FALSE</code> if you want to run the code and show the output but not show the code itself</li>
</ul>
<p>There are many more options you can add, such as control plot size and adding captions to plots. You can see them all at Yihui‚Äôs website <a href="https://yihui.org/knitr/options/#chunk-options" class="external-link">here</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="two-tricks-before-you-go">Two Tricks Before You Go<a class="anchor" aria-label="anchor" href="#two-tricks-before-you-go"></a>
</h2>
<p>There is a way to ‚Äúpretty print‚Äù data frames in RMarkdown. This means that any code chunk that returns a data frame will be passed to a special print method that makes it a nice LaTeX table. I‚Äôll show two examples below. To enable this, change your header to look like this:</p>
<p><img src="img/rmarkdown-intro-9.png"></p>
<div class="section level3">
<h3 id="tidy-your-regression-output">Tidy Your Regression Output<a class="anchor" aria-label="anchor" href="#tidy-your-regression-output"></a>
</h3>
<p>There is a library called <code>broom</code> in R that will tidy your regression summaries and turn them into data frames. You just pass either a result from <code>summary</code> or <code>coeftest</code> into the <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code> function, like so:</p>
<p><img src="img/rmarkdown-intro-10.png"></p>
<p>Because we changed the header, we will now pretty print the regression summaries, like so:</p>
<p><img src="img/rmarkdown-intro-11.png"></p>
<p>Note that for the output of <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> commands, this will only print the coefficient table, not the R squared, F statistic, or MSE. So if that matters to you, consider a different way of presenting your model summary.</p>
</div>
<div class="section level3">
<h3 id="easy-summary-statistics">Easy Summary Statistics<a class="anchor" aria-label="anchor" href="#easy-summary-statistics"></a>
</h3>
<p>The <code>skimr</code> library implements a great utility to print descriptive statistics for your datasets. The function that we want to use is called <code>skim_without_charts</code>. It produces output that looks like this (with pretty printing enabled):</p>
<p><img src="img/rmarkdown-intro-12.png"></p>
<p>Each row of the output is a different variable in <code>htv</code>, and the columns present different summary statistics. Remember that <code>p0</code> is the minimum, <code>p50</code> is the median, and <code>p100</code> is the maximum.</p>
<p>Instead of summarizing the entire dataset, you could list only the variables you want to summarize, like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">htv</span> <span class="op"><a href="../../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://docs.ropensci.org/skimr/reference/skim.html" class="external-link">skim_without_charts</a></span><span class="op">(</span><span class="va">wage</span>, <span class="va">abil</span>, <span class="va">educ</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Hopefully this gives you enough information to get started using RMarkdown in your homeworks. In general, RMarkdown provides us with a clean, relatively painless way to do literate programming. Remember that markdown <em>becomes</em> LaTeX <em>becomes</em> a PDF.</p>
<p>There are many good resources for learning RMarkdown. There is an entire book on it available for free <a href="https://bookdown.org/yihui/rmarkdown/" class="external-link">online</a>, as well as a <a href="https://bookdown.org/yihui/rmarkdown-cookbook/" class="external-link">cookbook</a> which gives solutions or ‚Äúrecipes‚Äù for common tasks. There is also a cheatsheet available for it <a href="https://www.rstudio.com/resources/cheatsheets/" class="external-link">here</a>. I should point out that there are many cheatsheets on topics besides RMarkdown available at that link, and they are all extremely handy. If you‚Äôre a technical reader, the detailed reference for RMarkdown is <a href="https://rmarkdown.rstudio.com/docs/reference/index.html" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="postscript-other-document-types-other-outputs">Postscript: Other document types? Other outputs?<a class="anchor" aria-label="anchor" href="#postscript-other-document-types-other-outputs"></a>
</h2>
<p>First, I should say that RMarkdown can output a lot more than PDFs. It can create blogs, books, websites, HTML pages, PowerPoint presentations, interactive (Shiny) documents, and more. That‚Äôs beyond the scope of my article, but you can find many resources on the different output types at the links I provided above.</p>
<p>Second, there are some other ‚Äúliterate programming‚Äù document types that you may have heard of, namely <code>.Rnw</code> and <code>.qmd</code>. Rnw stands for ‚ÄúR noweb‚Äù and is older than RMarkdown‚Äîit goes back to the system designed by Donald Knuth. It is literally a LaTeX document, with some R code sprinkled in. You can see an example in the <code>splines.Rnw</code> document I posted to Canvas if you‚Äôre interested. If you‚Äôre already proficient in LaTeX, you might like the amount of control that it gives you. I don‚Äôt like the size of the learning curve, so I prefer to teach <code>.Rmd</code> first.</p>
<p>The <code>.qmd</code> file extension stands for ‚ÄúQuarto Markdown.‚Äù RStudio announced this year (2022) that they are rebranding as Quarto and releasing a new literate programming tool called Quarto Markdown. It de-emphasizes R and is intended for a multi-lingual data science audience who can produce documents using any language. This will eventually be the replacement for RMarkdown, but my opinion is that it is still a bit new. Once they have more documentation and a bigger user base, it will be more beginner friendly and I will start teaching it instead of RMarkdown.</p>
<hr>
<p>Happy Coding!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nathan Gardner Hattersley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
